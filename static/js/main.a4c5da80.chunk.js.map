{"version":3,"sources":["simpleStore.js","Components/Menu.js","Components/CenterCameraButton.js","Components/PinNodeToggle.js","Components/App.js","graph.js","MainScene.js","Camera.js","skybox.js","serviceWorker.js","index.js"],"names":["simpleStore","Menu","reloadPage","window","location","reload","M","AutoInit","className","id","class","onClick","this","href","data-target","Component","CenterCameraButton","PinNodeToggle","props","state","checked","pinNodeEnabled","handleChange","bind","event","target","setState","type","onChange","App","idIndex","GraphNode","depth","x","Math","random","y","pos","THREE","pinned","collapsed","enabled","parent","edges","other","push","includes","everyNode","graph","callback","springLength","springStrength","repulsionStrength","scene","camera","renderer","circles","plane","Camera","innerWidth","innerHeight","position","z","controls","OrbitControls","domElement","maxDistance","addEventListener","aspect","updateProjectionMatrix","setSize","update","render","sbVertexShader","join","sbFragmentShader","skyMesh","uniforms","topColor","value","bottomColor","offset","exponent","skyGeo","skyMat","vertexShader","fragmentShader","side","fog","addToScene","node","mesh","geometry","color","copy","add","addCircle","removeFromScene","removeCircle","remove","updatePosition","circle","material","filter","item","toggleChildren","everyChild","checkForCollapsed","lines","lineMaterial","addLineToScene","vertices","line","removeLinesFromScene","length","pop","dispose","mouseFromEvent","mouse","clientX","clientY","raycaster","everyRaycastIntersect","setFromCamera","intersect","intersectObjects","children","object","point","mouseMove","dragging","onMouseDown","lookAt","onMouseUp","onMouseMove","intersectObject","document","changedTouches","lastHoveredNode","animate","requestAnimationFrame","hoverCircle","addHoverCircle","ignore","i","j","apart","sub","distance","distanceTo","max","forceSize","hasEdge","normalize","multiplyScalar","forceDirected","everyEdge","init","treeGraph","branches","subGraph","connect","concat","getElementsByTagName","setAttribute","body","appendChild","alphaTest","visible","skybox","dirLight","set","Boolean","hostname","match","ReactDOM","getElementById","MainScene","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"qRAAIA,E,wGCyBWC,G,iNAfbC,WAAa,kBAAMC,OAAOC,SAASC,U,mFAHjCC,IAAEC,a,+BAMF,OACA,yBAAKC,UAAU,QACb,wBAAIC,GAAG,YAAYC,MAAM,WACvB,4BAAI,uBAAGC,QAASC,KAAKV,YAAjB,gBACJ,wBAAIQ,MAAM,gBAGZ,uBAAGG,KAAK,IAAIC,cAAY,YAAYJ,MAAM,mBAAkB,uBAAGA,MAAM,kBAAT,c,GAhB/CK,cDAJf,EAFfA,EAAcA,GAAe,G,MEUdgB,MARf,WACI,OACI,yBAAKN,MAAM,wBACP,uBAAGA,MAAM,yDAAwD,uBAAGA,MAAM,kBAAT,0B,OCwB9DO,G,kBA1BX,WAAYC,GAAQ,IAAD,8BACf,4CAAMA,KACDC,MAAQ,CAACC,QAASpB,EAAYqB,iBAAkB,GAErD,EAAKC,aAAe,EAAKA,aAAaC,KAAlB,gBAJL,E,0EAONC,GACTxB,EAAYqB,eAAiBG,EAAMC,OAAOL,QAC1CR,KAAKc,SAAS,CAACN,QAASI,EAAMC,OAAOL,Y,+BAIrC,OACI,yBAAKV,MAAM,UACP,qCAEI,2BAAOiB,KAAK,WAAWP,QAASR,KAAKO,MAAMC,QAASQ,SAAUhB,KAAKU,eACnE,0BAAMZ,MAAM,UAHhB,W,GAhBYK,cCabc,MAVf,WACE,OACE,yBAAKrB,UAAU,OACb,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,kBAAC,EAAD,Q,OCVFsB,EAAU,EAERC,E,WACF,WAAYC,GAAQ,oBAClB,IAAMC,EAAI,IAAsB,IAAhBC,KAAKC,SACfC,EAAI,GAAKF,KAAKC,UAAY,EAAIH,GAEpCpB,KAAKyB,IAAM,IAAIC,IAAeL,EAAGG,EADvB,GAEVxB,KAAKH,GAAKqB,EACVlB,KAAK2B,QAAS,EACd3B,KAAK4B,WAAY,EACjB5B,KAAK6B,SAAU,EACf7B,KAAK8B,OAAS,KAGA,IAFdZ,GAAW,KAGTlB,KAAKyB,IAAM,IAAIC,IAAe,EAAE,EAAE,IAEpC1B,KAAK+B,MAAQ,G,oDAEPC,GACNhC,KAAK+B,MAAME,KAAKD,GAChBA,EAAMD,MAAME,KAAKjC,Q,8BAEXgC,GACN,OAAOhC,KAAK+B,MAAMG,SAASF,K,+BAG3BhC,KAAK6B,SAAW7B,KAAK6B,Y,KA0BzB,SAASM,EAAUC,EAAOC,GAAY,IAAD,uBACnC,YAAiBD,EAAjB,+CAAyB,CACvBC,EADuB,UADU,mFAMrC,IAAMC,EAAgB,GAChBC,EAAiB,GACjBC,EAAoB,I,ICxDxBJ,EAAOK,EAAOC,EAAQC,EAAoBC,EAASC,E,QCqBxCC,E,WAzBX,cAAgC,IAAD,OAAlBH,EAAkB,EAAlBA,SAAUF,EAAQ,EAARA,MAAQ,oBAC3BzC,KAAK2C,SAAWA,EAChB3C,KAAKyC,MAAQA,EACbzC,KAAK0C,OAAS,IAAIhB,IAAyB,GAAInC,OAAOwD,WAAaxD,OAAOyD,YAAa,EAAG,KAC1FhD,KAAK0C,OAAOO,SAASC,EAAI,IACzBlD,KAAKmD,SAAW,IAAIC,IAAepD,KAAK0C,OAAQ1C,KAAK2C,SAASU,YAC9DrD,KAAKmD,SAAStC,OAAS,IAAIa,IAAc,EAAG,EAAG,GAC/C1B,KAAKmD,SAASG,YAAc,IAQ5B/D,OAAOgE,iBAAkB,UANV,WACX,EAAKb,OAAOc,OAASjE,OAAOwD,WAAaxD,OAAOyD,YAChD,EAAKN,OAAOe,yBACZ,EAAKd,SAASe,QAAQnE,OAAOwD,WAAYxD,OAAOyD,gBAGP,G,qDAK7ChD,KAAKmD,SAASQ,SACd3D,KAAK2C,SAASiB,OAAQ5D,KAAKyC,MAAOzC,KAAK0C,U,+BAH3B,OAAO1C,KAAK0C,OAAOO,a,KCpBnCY,G,MAAiB,CACjB,+BACA,gBACA,8DACA,wCACA,8EACA,KACEC,KAAK,OAEPC,EAAmB,CACnB,yBACA,4BACA,wBACA,0BACA,+BACA,gBACA,sDACA,8FACA,KACED,KAAK,MAaIE,EAXD,WACN,IACIC,EAAW,CACbC,SAAU,CAACnD,KAAM,IAAKoD,MAAO,IAAIzC,IAAY,QAAY0C,YAAa,CAACrD,KAAM,IAAKoD,MAAO,IAAIzC,IAAY,WACzG2C,OAAQ,CAACtD,KAAM,IAAKoD,MAHP,KAGyBG,SAAU,CAACvD,KAAM,IAAKoD,MAAO,MAEjEI,EAAS,IAAI7C,IALF,IAKiC,GAAI,IAChD8C,EAAS,IAAI9C,IAAqB,CAAC+C,aAAcZ,EAAgBa,eAAgBX,EAAkBE,SAAUA,EAAUU,KAAMjD,IAAkBkD,KAAK,IACxJ,OAAO,IAAIlD,IAAW6C,EAAQC,IFUtC,IAAIK,EAAa,SAAAC,GACf,IAAGA,EAAKC,KAAR,CACA,IACMC,EAAW,IAAItD,IAAsB,GAAG,GAAG,IAC7CqD,EAAO,IAAIrD,IAAYsD,EAFE,IAAItD,IAAyB,CAAEuD,MAAO,IAAIvD,IAAYJ,KAAKC,SAAUD,KAAKC,SAAUD,KAAKC,aAGtHwD,EAAK9B,SAASiC,KAAKJ,EAAKrD,KACxBqD,EAAKC,KAAOA,EACZA,EAAKD,KAAOA,EACZrC,EAAM0C,IAAIJ,GACPD,EAAKlD,WAAWwD,EAAUN,KAG3BO,EAAkB,SAAAP,GACpBQ,EAAaR,GACbrC,EAAM8C,OAAOT,EAAKC,MAClBD,EAAKC,KAAO,MAGVS,EAAiB,SAAAV,GACfA,EAAKjD,UACTiD,EAAKC,KAAK9B,SAASiC,KAAKJ,EAAKrD,KAC1BqD,EAAKW,QACNX,EAAKW,OAAOxC,SAASiC,KAAKJ,EAAKC,KAAK9B,YAIpCmC,EAAY,SAAAhD,GACd,IAAI4C,EAAW,IAAItD,IAAsB,GAAI,IACzCgE,EAAW,IAAIhE,IAAyB,CAAEuD,MAAO,WACjDQ,EAAS,IAAI/D,IAAYsD,EAAUU,GACvCD,EAAOxC,SAASiC,KAAK9C,EAAMX,KAC3BW,EAAMqD,OAASA,EACfhD,EAAM0C,IAAKM,GACX7C,EAAQX,KAAKwD,IAGXH,EAAe,SAAAlD,GACbA,EAAMqD,SACVhD,EAAM8C,OAAOnD,EAAMqD,QACnB7C,EAAUA,EAAQ+C,QAAQ,SAACC,GAAD,OAAUA,GAAQxD,EAAMqD,UAClDrD,EAAMqD,OAAS,OAIbT,EAAW,IAAItD,IAAsB,GAAI,IACzCgE,EAAW,IAAIhE,IAAyB,CAAEuD,MAAO,WAkBrD,SAASY,EAAgBzD,GACvBA,EAAMR,WAAaQ,EAAMR,UACtBQ,EAAMR,UACPwD,EAAUhD,GAEVkD,EAAalD,ID9Df,SAAS0D,EAAY1D,EAAOC,GAAY,IAAD,uBACrC,IAAI,IAAJ,IAAgBD,EAAML,MAAtB,+CAA6B,CAAC,IAAtB+C,EAAqB,QACvBA,IAAS1C,EAAMN,SACjBgE,EAAWhB,EAAMzC,GACjBA,EAASyC,KAJwB,mFCqEvCgB,CAAW1D,GAAO,SAAC0C,GACjBA,EAAKjD,SAPiB,SAApBkE,EAAqBjE,GACvB,QAAGA,EAAOF,aACPE,EAAOA,QAAeiE,EAAkBjE,EAAOA,QAKlCiE,CAAkBjB,EAAKhD,QACpCgD,EAAKjD,QACNgD,EAAWC,GAEXO,EAAgBP,MAItB,IAAIkB,EAAQ,GACRC,EAAe,IAAIvE,IAAyB,CAAEuD,MAAO,MACrDiB,EAAiB,SAACpB,EAAM9C,GAC1B,GAAI8C,EAAKjD,SAAYG,EAAMH,QAA3B,CAEA,IAAImD,EAAW,IAAItD,IACnBsD,EAASmB,SAASlE,KAAK6C,EAAKrD,KAC5BuD,EAASmB,SAASlE,KAAKD,EAAMP,KAC7B,IAAI2E,EAAO,IAAI1E,IAAYsD,EAAUiB,GACrCxD,EAAM0C,IAAIiB,GACVJ,EAAM/D,KAAKmE,KAETC,EAAuB,WACzB,KAAOL,EAAMM,QAAS,CAClB,IAAIF,EAAOJ,EAAMO,MACjB9D,EAAM8C,OAAOa,GACbA,EAAKpB,SAASwB,YAIpB,SAASC,EAAgB7F,GAGrB,IAAI8F,EAAQ,IAAIhF,IAGhB,OAFAgF,EAAMrF,EAAMT,EAAM+F,QAAUpH,OAAOwD,WAAe,EAAI,EACtD2D,EAAMlF,GAAQZ,EAAMgG,QAAUrH,OAAOyD,YAAgB,EAAI,EAClD0D,EAGX,IAAIG,EAAY,IAAInF,IACpB,SAASoF,EAAuBJ,EAAOrE,GACrCwE,EAAUE,cAAeL,EAAOhE,EAAOA,QAEvC,IACIsE,EADaH,EAAUI,iBAAkBxE,EAAMyE,UACxBvB,QAAO,SAAAC,GAAI,OAAwB,MAApBA,EAAKuB,OAAOrC,QAAe,GAClEkC,GAAW3E,EAAS2E,EAAUG,OAAOrC,KAAMkC,EAAUI,OAG1D,IAsBIC,GAhBAC,GAAW,KACf,SAASC,GAAa3G,GAEpBkG,EADYL,EAAgB7F,IACC,SAACkE,EAAM7B,GAClCJ,EAAMI,SAASiC,KAAKjC,GACpBJ,EAAM2E,OAAO9E,EAAOO,UACpBqE,GAAWxC,EACXpC,EAAOS,SAAStB,SAAU,KAG9B,SAAS4F,GAAW7G,GACf0G,KACDA,GAAW,KACX5E,EAAOS,SAAStB,SAAU,GAI9B,SAAS6F,GAAa9G,GACpB,IAAI8F,EAAQD,EAAgB7F,GAE5B,GADAyG,GAAYX,EACTY,GAAU,CACXT,EAAUE,cAAeL,EAAOhE,EAAOA,QACvC,IAAIsE,EAAYH,EAAUc,gBAAiB9E,GAAQ,GAChDmE,IACDM,GAAS7F,IAAIyD,KAAK8B,EAAUI,OAC5BvE,EAAMI,SAASiC,KAAK8B,EAAUI,OAC9BvE,EAAM2E,OAAO9E,EAAOO,UACpBqE,GAAS3F,OAASvC,EAAYqB,iBAKpCmH,SAASrE,iBAAkB,YAAagE,IAAa,GACrDK,SAASrE,iBAAkB,YAAamE,IAAa,GACrDE,SAASrE,iBAAkB,UAAWkE,IAAW,GAEjDG,SAASrE,iBAAkB,YA1CL,SAAA3C,GAElBkG,EADYL,EAAgB7F,GACEiF,MAwCsB,GAExD+B,SAASrE,iBAAkB,cAAc,SAAA3C,GAAK,OAAI2G,GAAY3G,EAAMiH,eAAe,OAAK,GACxFD,SAASrE,iBAAkB,aAAa,SAAA3C,GAAK,OAAI8G,GAAY9G,EAAMiH,eAAe,OAAK,GACvFD,SAASrE,iBAAkB,YAAY,SAAA3C,GAAK,OAAI6G,GAAU7G,EAAMiH,eAAe,OAAK,GAEpF,IAAIC,GAAkB,KACtB,SAASC,KAnHT,IAA2B3F,EAoHzB4F,sBAAuBD,IAEpBV,KACES,MAvHoB1F,EAuHe0F,IAtH9BG,cACVxF,EAAM8C,OAAOnD,EAAM6F,aACnBrF,EAAUA,EAAQ+C,QAAQ,SAACC,GAAD,OAAUA,GAAQxD,EAAM6F,eAClD7F,EAAM6F,YAAc,OAoHlBnB,EAAsBO,IAAW,SAAAjF,IAlIrC,SAAyBA,GACvB,IAAIqD,EAAS,IAAI/D,IAAYsD,EAAUU,GACvCD,EAAOxC,SAAS5B,EAAIe,EAAMX,IAAIJ,EAC9BoE,EAAOxC,SAASzB,EAAIY,EAAMX,IAAID,EAC9BiE,EAAOxC,SAASC,EAAId,EAAMX,IAAIyB,EAC9Bd,EAAM6F,YAAcxC,EACpBhD,EAAM0C,IAAKM,GACX7C,EAAQX,KAAKwD,GA4HTyC,CAAe9F,GACf0F,GAAkB1F,MDzJtB,SAAuBA,EAAvB,GACE,IADuC,IAAV+F,EAAS,EAATA,OACpBC,EAAI,EAAGA,EAAIhG,EAAMkE,OAAQ8B,IAAM,CACtC,IAAItD,EAAO1C,EAAMgG,GACjB,GAAItD,EAAKjD,QACT,IAAK,IAAIwG,EAAID,EAAI,EAAGC,EAAIjG,EAAMkE,OAAQ+B,IAAM,CAC1C,IAAIrG,EAAQI,EAAMiG,GAClB,GAAIrG,EAAMH,QAAV,CACA,IAAIyG,GAAQ,IAAI5G,KAAgBwD,KAAKlD,EAAMP,KAC3C6G,EAAMC,IAAIzD,EAAKrD,KACf,IAAI+G,EAAWxG,EAAMP,IAAIgH,WAAW3D,EAAKrD,KACzC+G,EAAWlH,KAAKoH,IAAI,EAAGF,GACvB,IAAIG,GAAanG,GAAqBgG,EAAWA,GAC7C1D,EAAK8D,QAAQ5G,KACf2G,GAAcH,EAAWlG,EAAeC,GAE1C+F,EAAMO,YACNP,EAAMQ,eAAeH,EAAU,GAC5B7D,IAASqD,GAAWrD,EAAKnD,QAAQmD,EAAKrD,IAAI0D,IAAImD,GAC9CtG,IAAUmG,GAAWnG,EAAML,QAAQK,EAAMP,IAAI8G,IAAID,MC2I1DS,CAAc3G,EAAO,CAAC+F,OAAQb,KAC9BjB,IACAlE,EAAUC,EAAOoD,GDxIjB,SAAmBpD,EAAOC,GACxB,IAAK,IAAI+F,EAAI,EAAGA,EAAIhG,EAAMkE,OAAQ8B,IAEhC,IADA,IAAItD,EAAO1C,EAAMgG,GACRC,EAAID,EAAI,EAAGC,EAAIjG,EAAMkE,OAAQ+B,IAAM,CAC1C,IAAIrG,EAAQI,EAAMiG,GACdvD,EAAK8D,QAAQ5G,IACfK,EAASyC,EAAM9C,ICmIvBgH,CAAU5G,EAAO8D,GAdA,2BAejB,IAAI,IAAJ,IAAkBtD,EAAlB,+CAA2B,SAClB4E,OAAO9E,EAAOO,WAhBN,kFAkBjBP,EAAOiB,SAGMsF,OAhOf,WACE7G,EDwBA,SAAS8G,EAAU9H,EAAO+H,GACxB,IAAI/G,EAAQ,CAAE,IAAIjB,EAAUC,IAC5B,GAAIA,EAAQ,EACV,IAAK,IAAIgH,EAAI,EAAGA,EAAIe,EAAUf,IAAK,CACjC,IAAIgB,EAAWF,EAAU9H,EAAQ,EAAG+H,GACpC/G,EAAM,GAAGiH,QAAQD,EAAS,IAC1BA,EAAS,GAAGtH,OAASM,EAAM,GAC3BA,EAAQA,EAAMkH,OAAOF,GAGzB,OAAOhH,EClCD8G,CAAU,EAAE,IAEpBzG,EAAQ,IAAIf,KACNkD,IAAM,IAAIlD,IAAe,EAAU,QAEzCiB,EAAW,IAAIjB,KACNgC,QAASnE,OAAOwD,WAAYxD,OAAOyD,aAC5C4E,SAAS2B,qBAAqB,QAAQ,GAAGC,aAAa,QAAS,cAC/D7G,EAASU,WAAWmG,aAAa,QAAS,wCAC1C5B,SAAS6B,KAAKC,YAAa/G,EAASU,YACpCX,EAAS,IAAII,EAAO,CAACH,WAASF,UAE9BG,EAAU,GACVT,EAAUC,EAAOyC,GAEjBhC,EAAQ,IAAInB,IAAW,IAAIA,IAA0B,IAAK,IAAK,EAAG,GAChE,IAAIA,IAAyB,CAACuD,MAAO,QAAU0E,UAAW,EAAGC,SAAS,KAExEnH,EAAM0C,IAAItC,GAEVJ,EAAM0C,IAAI0E,KAGVpH,EAAM0C,IAAK,IAAIzD,IAAmB,UAClC,IAAIoI,EAAW,IAAIpI,IAAuB,UAC1CoI,EAAS7G,SAAS8G,KAAO,EAAG,EAAG,GAAIlB,YACnCpG,EAAM0C,IAAI2E,GAEV/B,MG1BkBiC,QACW,cAA7BzK,OAAOC,SAASyK,UAEe,UAA7B1K,OAAOC,SAASyK,UAEhB1K,OAAOC,SAASyK,SAASC,MACvB,2DCXNC,IAASvG,OAAO,kBAAC,EAAD,MAASgE,SAASwC,eAAe,SACjDC,KDyHM,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,MAAK,SAAAC,GACjCA,EAAaC,kB","file":"static/js/main.a4c5da80.chunk.js","sourcesContent":["let simpleStore;\n\nsimpleStore = simpleStore || {};\n\nexport default simpleStore;","import React, {Component} from 'react';\nimport M from \"materialize-css\";\nimport './Menu.css';\n\nclass Menu extends Component {\n  componentDidMount() {\n    // Auto initialize all the things!\n    M.AutoInit();\n  }\n\n  reloadPage = () => window.location.reload()\n\n  render() {\n    return (\n    <div className=\"Menu\">\n      <ul id=\"slide-out\" class=\"sidenav\">\n        <li><a onClick={this.reloadPage}>Reload Page</a></li>\n        <li class=\"no-padding\">\n        </li>\n      </ul>\n      <a href=\"#\" data-target=\"slide-out\" class=\"sidenav-trigger\"><i class=\"material-icons\">menu</i></a>      \n    </div>\n    )}\n}\n\nexport default Menu;\n","import React, {Component} from 'react';\nimport simpleStore from '../simpleStore';\nimport './CenterCameraButton.css'\n\nfunction CenterCameraButton() {\n    return (\n        <div class='center-camera-button'>\n            <a class=\"btn-floating btn-large waves-effect waves-light black\"><i class=\"material-icons\">center_focus_strong</i></a>\n        </div>\n    );\n}\n\nexport default CenterCameraButton;","import React, {Component} from 'react';\nimport simpleStore from '../simpleStore';\nimport './PinNodeToggle.css'\n\nclass PinNodeToggle extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {checked: simpleStore.pinNodeEnabled || false};\n\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    handleChange(event) {\n        simpleStore.pinNodeEnabled = event.target.checked;\n        this.setState({checked: event.target.checked});\n    }\n\n    render() {\n        return (\n            <div class=\"switch\">\n                <label>\n                    Off\n                    <input type=\"checkbox\" checked={this.state.checked} onChange={this.handleChange}/>\n                    <span class=\"lever\"></span>\n                    On\n                </label>\n            </div>        \n        )\n    };\n}\n\nexport default PinNodeToggle;","import React from 'react';\nimport 'materialize-css/dist/css/materialize.min.css';\nimport './App.css';\nimport Menu from './Menu'\nimport CenterCameraButton from './CenterCameraButton'\nimport PinNodeToggle from './PinNodeToggle'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Menu/>\n      <CenterCameraButton/>\n      <PinNodeToggle/>\n    </div>\n  );\n}\n\nexport default App;\n","import * as THREE from 'three';\n\nvar idIndex = 0;\n\nclass GraphNode {\n    constructor(depth) {\n      const x = 100 - Math.random() * 200;\n      const y = 10 * Math.random() * (4 - depth);\n      const z = 1;//10 * Math.random() * -4;\n      this.pos = new THREE.Vector3( x, y, z ); \n      this.id = idIndex;\n      this.pinned = false;\n      this.collapsed = false;\n      this.enabled = true;\n      this.parent = null;\n      idIndex += 1;\n      \n      if(idIndex == 0)\n        this.pos = new THREE.Vector3( 0,0,0 ); \n\n      this.edges = [];\n    }\n    connect(other) {\n      this.edges.push(other);\n      other.edges.push(this);\n    }\n    hasEdge(other) {\n      return this.edges.includes(other);\n    }\n    toggle() {\n      this.enabled = !this.enabled;\n    }\n  }\n\n  function treeGraph(depth, branches) {\n    let graph = [ new GraphNode(depth)];\n    if (depth > 1) {\n      for( let i = 0; i < branches; i++ ){\n        let subGraph = treeGraph(depth - 1, branches);\n        graph[0].connect(subGraph[0]);\n        subGraph[0].parent = graph[0];\n        graph = graph.concat(subGraph);\n      }\n    }\n    return graph;\n  }\n\n  function everyChild( graph, callback ) {\n    for(let node of graph.edges) {\n      if( node !== graph.parent) {\n        everyChild(node, callback);\n        callback(node);\n      }\n    }\n  }\n  \n  function everyNode(graph, callback ) {\n    for (let node of graph ) {\n      callback(node);\n    }\n  }\n\n  const springLength =  10;\n  const springStrength = 20;\n  const repulsionStrength = 40000;\n  \n  function forceDirected(graph, {ignore}) {\n    for (let i = 0; i < graph.length; i++ ) {\n      let node = graph[i];\n      if(!node.enabled) continue;\n      for( let j = i + 1; j < graph.length; j++ ) {\n        let other = graph[j];\n        if(!other.enabled) continue;\n        let apart = new THREE.Vector3().copy(other.pos);\n        apart.sub(node.pos);\n        var distance = other.pos.distanceTo(node.pos);\n        distance = Math.max(1, distance);\n        let forceSize = -repulsionStrength / (distance * distance);\n        if( node.hasEdge(other) ) {\n          forceSize += (distance - springLength * springStrength);\n        }\n        apart.normalize();\n        apart.multiplyScalar(forceSize/2);        \n        if(node !== ignore && !node.pinned) node.pos.add(apart);\n        if(other !== ignore && !other.pinned) other.pos.sub(apart);      \n      }\n    }\n  }\n  \n  function everyEdge(graph, callback) {\n    for (let i = 0; i < graph.length; i++ ) {\n      let node = graph[i];\n      for( let j = i + 1; j < graph.length; j++ ) {\n        let other = graph[j];\n        if( node.hasEdge(other) ) {\n          callback(node, other);\n        }\n      }\n    }\n  }\n\n  export { GraphNode, treeGraph, forceDirected, everyEdge, everyNode, everyChild }","import * as THREE from 'three';\nimport { GraphNode, treeGraph, forceDirected, everyEdge, everyNode, everyChild } from './graph.js'\nimport Camera from './Camera'\nimport { inherits } from 'util';\nimport simpleStore from './simpleStore';\nimport skybox from './skybox';\n\n\nlet graph, scene, camera, renderer, controls, circles, plane;\nfunction init() {\n  graph = treeGraph(4,4);\n\n  scene = new THREE.Scene();\n  scene.fog = new THREE.FogExp2( 0x000000, 0.00000025 );\n\n  renderer = new THREE.WebGLRenderer();\n  renderer.setSize( window.innerWidth, window.innerHeight );\n  document.getElementsByTagName(\"body\")[0].setAttribute(\"style\", \"margin: 0;\");\n  renderer.domElement.setAttribute(\"style\", \"position: absolute; top: 0; left: 0;\");\n  document.body.appendChild( renderer.domElement );\n  camera = new Camera({renderer,scene});\n\n  circles = [];\n  everyNode(graph, addToScene);\n\n  plane = new THREE.Mesh(new THREE.PlaneBufferGeometry(500, 500, 8, 8), \n    new THREE.MeshBasicMaterial( {color: 0x248f24, alphaTest: 0, visible: false})\n  );\n  scene.add(plane);\n\n  scene.add(skybox());\n\n  // Add lights\n  scene.add( new THREE.AmbientLight(0x444444));\n  let dirLight = new THREE.DirectionalLight(0xffffff);\n  dirLight.position.set( - 1, 0, 1 ).normalize();\n  scene.add(dirLight);\n\n  animate();\n}\n\nlet addToScene = node => {\n  if(node.mesh) return;\n  const randomMaterial = () => new THREE.MeshPhongMaterial( { color: new THREE.Color(Math.random(), Math.random(), Math.random())} );\n  const geometry = new THREE.SphereGeometry( 30,16,12 );\n  let mesh = new THREE.Mesh( geometry, randomMaterial() );\n  mesh.position.copy(node.pos);\n  node.mesh = mesh;\n  mesh.node = node;\n  scene.add(mesh);\n  if(node.collapsed) addCircle(node);\n}\n\nlet removeFromScene = node => {\n  removeCircle(node);\n  scene.remove(node.mesh);\n  node.mesh = null;  \n}\n\nlet updatePosition = node => {\n  if(!node.enabled) return;\n  node.mesh.position.copy(node.pos);\n  if(node.circle) {\n    node.circle.position.copy(node.mesh.position);\n  }\n}\n\nlet addCircle = graph => {\n  let geometry = new THREE.CircleGeometry( 43, 32 );\n  let material = new THREE.MeshBasicMaterial( { color: 0xffff00 } );\n  let circle = new THREE.Mesh( geometry, material );\n  circle.position.copy(graph.pos);\n  graph.circle = circle;\n  scene.add( circle );\n  circles.push(circle);\n} \n\nlet removeCircle = graph => {\n  if(!graph.circle) return;\n  scene.remove(graph.circle);\n  circles = circles.filter( (item) => item != graph.circle );\n  graph.circle = null;  \n}\n\nlet hoverCircle;\nlet geometry = new THREE.CircleGeometry( 45, 32 );\nlet material = new THREE.MeshBasicMaterial( { color: 0xff0000 } );\nfunction addHoverCircle( graph ) {\n  let circle = new THREE.Mesh( geometry, material );\n  circle.position.x = graph.pos.x;\n  circle.position.y = graph.pos.y;\n  circle.position.z = graph.pos.z;  \n  graph.hoverCircle = circle;\n  scene.add( circle );\n  circles.push(circle);\n}\n\nfunction removeHoverCircle(graph){\n  if(!graph.hoverCircle) return;\n  scene.remove(graph.hoverCircle);\n  circles = circles.filter( (item) => item != graph.hoverCircle );\n  graph.hoverCircle = null;  \n}\n\nfunction toggleChildren( graph ) {\n  graph.collapsed = !graph.collapsed;\n  if(graph.collapsed) \n    addCircle(graph);\n  else\n    removeCircle(graph);\n  let checkForCollapsed = (parent) => {\n    if(parent.collapsed) return true;\n    if(parent.parent) return checkForCollapsed(parent.parent);\n    return false;\n  }\n\n  everyChild(graph, (node) => {\n    node.enabled = !checkForCollapsed(node.parent);\n    if(node.enabled)\n      addToScene(node);\n    else\n      removeFromScene(node);\n  });\n}\n\nlet lines = [];\nlet lineMaterial = new THREE.LineBasicMaterial( { color: 0x0000ff } );\nlet addLineToScene = (node, other) => {\n  if(!node.enabled || !other.enabled)\n    return;\n  let geometry = new THREE.Geometry();\n  geometry.vertices.push(node.pos);\n  geometry.vertices.push(other.pos);\n  let line = new THREE.Line( geometry, lineMaterial );\n  scene.add(line);  \n  lines.push(line);\n}\nlet removeLinesFromScene = () => {    \n  while( lines.length ) {\n      let line = lines.pop();        \n      scene.remove(line);\n      line.geometry.dispose();\n  } \n}\n\nfunction mouseFromEvent( event ) {\n    // calculate mouse position in normalized device coordinates\n    // (-1 to +1) for both components\n    let mouse = new THREE.Vector2();\n    mouse.x = ( event.clientX / window.innerWidth ) * 2 - 1;\n    mouse.y = - ( event.clientY / window.innerHeight ) * 2 + 1;\n    return mouse;\n}\n\nlet raycaster = new THREE.Raycaster();\nfunction everyRaycastIntersect( mouse, callback ) {\n  raycaster.setFromCamera( mouse, camera.camera );\n\n  let intersects = raycaster.intersectObjects( scene.children );\n  let intersect = intersects.filter(item => item.object.node != null )[0];\n  if(intersect) callback(intersect.object.node, intersect.point);\n}\n\nlet onMouseDblClick = event => {\n    let mouse = mouseFromEvent( event );\n    everyRaycastIntersect( mouse, toggleChildren );\n}\n\n// window.addEventListener( 'mousemove', onMouseMove, false );\nlet dragging = null;\nfunction onMouseDown( event ) {\n  let mouse = mouseFromEvent( event );\n  everyRaycastIntersect(mouse, (node, position) => {\n    plane.position.copy(position);\n    plane.lookAt(camera.position);  \n    dragging = node;\n    camera.controls.enabled = false;\n  });\n}\nfunction onMouseUp( event ) {\n  if(dragging){\n    dragging = null;\n    camera.controls.enabled = true;    \n  }\n}\nlet mouseMove;\nfunction onMouseMove( event ) {\n  let mouse = mouseFromEvent( event );\n  mouseMove = mouse;  \n  if(dragging) {\n    raycaster.setFromCamera( mouse, camera.camera );\n    let intersect = raycaster.intersectObject( plane )[0];  \n    if(intersect){\n      dragging.pos.copy(intersect.point);\n      plane.position.copy(intersect.point);\n      plane.lookAt(camera.position);    \n      dragging.pinned = simpleStore.pinNodeEnabled;\n    }\n  }\n}\n\ndocument.addEventListener( 'mousedown', onMouseDown, false );\ndocument.addEventListener( 'mousemove', onMouseMove, false );\ndocument.addEventListener( 'mouseup', onMouseUp, false );\n\ndocument.addEventListener( 'dblclick', onMouseDblClick, false );\n\ndocument.addEventListener( 'touchstart', event => onMouseDown(event.changedTouches[0]), false );\ndocument.addEventListener( 'touchmove', event => onMouseMove(event.changedTouches[0]), false );\ndocument.addEventListener( 'touchend', event => onMouseUp(event.changedTouches[0]), false ); \n\nlet lastHoveredNode = null;\nfunction animate() {\n  requestAnimationFrame( animate );\n\n  if(mouseMove) {\n    if(lastHoveredNode) removeHoverCircle(lastHoveredNode);\n    everyRaycastIntersect(mouseMove, graph => {\n      addHoverCircle(graph);\n      lastHoveredNode = graph;\n    } );\n  }\n\n  forceDirected(graph, {ignore: dragging});\n  removeLinesFromScene();\n  everyNode(graph, updatePosition);                \n  everyEdge(graph, addLineToScene);\n  for(let circle of circles) {\n    circle.lookAt(camera.position);\n  }\n  camera.update();\n}\n\nexport default init","import * as THREE from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\n\nclass Camera {\n    constructor({renderer, scene}) {\n        this.renderer = renderer;\n        this.scene = scene;\n        this.camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 1, 10000 );\n        this.camera.position.z = 1000;\n        this.controls = new OrbitControls( this.camera, this.renderer.domElement );  \n        this.controls.target = new THREE.Vector3(0, 0, 0);\n        this.controls.maxDistance = 5000;\n        \n        let onResize = () => {\n            this.camera.aspect = window.innerWidth / window.innerHeight;\n            this.camera.updateProjectionMatrix();\n            this.renderer.setSize(window.innerWidth, window.innerHeight);\n        }\n          \n        window.addEventListener( 'resize', onResize, false );         \n    }\n\n    get position() {return this.camera.position;}\n    update() {\n        this.controls.update();\n        this.renderer.render( this.scene, this.camera );\n    }\n}\n\nexport default Camera","import * as THREE from 'three';\n\nlet sbVertexShader = [\n    \"varying vec3 vWorldPosition;\",\n    \"void main() {\",\n    \"  vec4 worldPosition = modelMatrix * vec4( position, 1.0 );\",\n    \"  vWorldPosition = worldPosition.xyz;\",\n    \"  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\",\n    ].join(\"\\n\");\n\nlet sbFragmentShader = [\n    \"uniform vec3 topColor;\",\n    \"uniform vec3 bottomColor;\",\n    \"uniform float offset;\",\n    \"uniform float exponent;\",\n    \"varying vec3 vWorldPosition;\",\n    \"void main() {\",\n    \"  float h = normalize( vWorldPosition + offset ).y;\",\n    \"  gl_FragColor = vec4( mix( bottomColor, topColor, max( pow( h, exponent ), 0.0 ) ), 1.0 );\",\n    \"}\",\n    ].join(\"\\n\");\n\nlet skyMesh = () => {\n        let iSBrsize = 5000;\n        let uniforms = {\n          topColor: {type: \"c\", value: new THREE.Color(0x0077ff)}, bottomColor: {type: \"c\", value: new THREE.Color(0xffffff)},\n          offset: {type: \"f\", value: iSBrsize}, exponent: {type: \"f\", value: 1.5}\n        }\n        let skyGeo = new THREE.SphereGeometry(iSBrsize, 32, 32);\n        let skyMat = new THREE.ShaderMaterial({vertexShader: sbVertexShader, fragmentShader: sbFragmentShader, uniforms: uniforms, side: THREE.DoubleSide, fog: false});\n        return new THREE.Mesh(skyGeo, skyMat);        \n    }\n\nexport default skyMesh;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App';\nimport MainScene from './MainScene';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\nMainScene();\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}