(this["webpackJsonpforce-graph-three"]=this["webpackJsonpforce-graph-three"]||[]).push([[0],[,,,,,,,,,,,,,function(e,n,t){e.exports=t(30)},,,,,function(e,n,t){},,function(e,n,t){},,,,,,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var a=t(1),o=t.n(a),r=t(10),i=t.n(r),c=(t(18),t(8)),l=(t(19),t(20),t(0)),s=t(2),d=t(3),u=0,h=function(){function e(n){Object(s.a)(this,e);var t=function(e){return Math.floor((.5-Math.random())*e)},a=t(300),o=t(300),r=t(300);0===u?(this.pos=new l.y(0,0,0),this.pinned=!0):(this.pos=new l.y(a,o,r),this.pinned=!1),this.enabled=!0,this.id=u,u+=1,this.edges=[]}return Object(d.a)(e,[{key:"connect",value:function(e){this.edges.push(e),e.edges.push(this)}},{key:"hasEdge",value:function(e){return this.edges.includes(e)}}]),e}();function p(e,n){var t=!0,a=!1,o=void 0;try{for(var r,i=e[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){n(r.value)}}catch(c){a=!0,o=c}finally{try{t||null==i.return||i.return()}finally{if(a)throw o}}}var f=200,m=.3,v=8e4;var y=t(5),b=t(4),w=t(6),g=function(e){function n(e){var t;return Object(s.a)(this,n),t=Object(y.a)(this,Object(b.a)(n).call(this)),e?(t.depth=e.depth+1,t.parent=e,t.pos.add(e.pos)):t.depth=0,t.childIndex=0,t.collapsed=!1,t.parent=e,t.children=[],t}return Object(w.a)(n,e),Object(d.a)(n,[{key:"loadData",value:function(e){return C=[],this.data=e,C}},{key:"toggle",value:function(){this.enabled=!this.enabled}},{key:"createChildren",value:function(e,n){if(0===e)return this.destroyChildren();for(;n>this.children.length;)this.createChildNode(e,n);for(;n<this.children.length;)this.destroyChild(this.children.pop());this.children.forEach((function(t){t.isParent=!0,t.createChildren(e-1,n)}))}},{key:"destroy",value:function(){E.push(this)}},{key:"destroyChild",value:function(e){e.destroyChildren(),e.destroy();var n=this.edges.indexOf(e);this.edges.splice(n,1)}},{key:"destroyChildren",value:function(){var e=this;this.children.forEach((function(n){return e.destroyChild(n)})),this.children=[]}},{key:"createChildNode",value:function(){var e=new n(this);return this.connect(e),this.children.push(e),C.push(e),e}},{key:"data",get:function(){var e=[],n=!0,t=!1,a=void 0;try{for(var o,r=this.children[Symbol.iterator]();!(n=(o=r.next()).done);n=!0){var i=o.value;e.push(i.data)}}catch(c){t=!0,a=c}finally{try{n||null==r.return||r.return()}finally{if(t)throw a}}return{id:this.id,pos:[this.pos.x,this.pos.y,this.pos.z],pinned:this.pinned,enabled:this.enabled,children:e,depth:this.depth}},set:function(e){this.depth=e.depth,this.pos=new l.y(parseFloat(e.pos[0]),parseFloat(e.pos[1]),parseFloat(e.pos[2])),this.pinned=e.pinned,this.enabled=e.enabled;var n=!0,t=!1,a=void 0;try{for(var o,r=e.children[Symbol.iterator]();!(n=(o=r.next()).done);n=!0){var i=o.value;this.createChildNode().data=i}}catch(c){t=!0,a=c}finally{try{n||null==r.return||r.return()}finally{if(t)throw a}}}}]),n}(h),E=[],C=[];function k(e,n){E=[],C=[];var t=new g(0),a=[t];return t.createChildren(e,n),a=a.concat(C)}var N,j,O,x,S,M,z,P=t(11),W=function(){function e(n){var t=this,a=n.renderer,o=n.scene;Object(s.a)(this,e),this.renderer=a,this.scene=o,this.camera=new l.o(75,window.innerWidth/window.innerHeight,1,1e4),this.camera.position.z=1e3,this.controls=new P.a(this.camera,this.renderer.domElement),this.controls.target=new l.y(0,0,0),this.controls.maxDistance=5e3;window.addEventListener("resize",(function(){t.camera.aspect=window.innerWidth/window.innerHeight,t.camera.updateProjectionMatrix(),t.renderer.setSize(window.innerWidth,window.innerHeight)}),!1)}return Object(d.a)(e,[{key:"update",value:function(){this.controls.update(),this.renderer.render(this.scene,this.camera)}},{key:"position",get:function(){return this.camera.position}}]),e}(),A=(t(21),N=N||{}),T=["varying vec3 vWorldPosition;","void main() {","  vec4 worldPosition = modelMatrix * vec4( position, 1.0 );","  vWorldPosition = worldPosition.xyz;","  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),L=["uniform vec3 topColor;","uniform vec3 bottomColor;","uniform float offset;","uniform float exponent;","varying vec3 vWorldPosition;","void main() {","  float h = normalize( vWorldPosition + offset ).y;","  gl_FragColor = vec4( mix( bottomColor, topColor, max( pow( h, exponent ), 0.0 ) ), 1.0 );","}"].join("\n"),_=function(){var e={topColor:{type:"c",value:new l.c(30719)},bottomColor:{type:"c",value:new l.c(16777215)},offset:{type:"f",value:5e3},exponent:{type:"f",value:1.5}},n=new l.u(5e3,32,32),t=new l.t({vertexShader:T,fragmentShader:L,uniforms:e,side:l.e,fog:!1});return new l.l(n,t)};var F=function(e){p(j=e,I)},H=function(e,n){var t,a,o,r=(a=n,o=e,E=[],C=[],(t=j)[0].createChildren(a,o),t=t.concat(C),E.forEach((function(e){return t.splice(t.indexOf(e),1)})),{graph:t,trashedNodes:E,addedNodes:C});for(j=r.graph;r.addedNodes.length;)I(r.addedNodes.pop());for(;r.trashedNodes.length;)B(r.trashedNodes.pop())},I=function(e){if(!e.mesh){var n=new l.u(30,16,12),t=new l.l(n,new l.n({color:new l.c(Math.random(),Math.random(),Math.random())}));t.position.copy(e.pos),e.mesh=t,t.node=e,O.add(t),e.collapsed&&J(e)}},B=function(e){V(e),e.mesh&&(O.remove(e.mesh),e.mesh.geometry.dispose(),e.mesh.material.dispose(),e.mesh=void 0)},D=function(e){e.enabled&&(e.mesh.position.copy(e.pos),e.circle&&e.circle.position.copy(e.mesh.position))},J=function(e){var n=new l.b(43,32),t=new l.m({color:16776960}),a=new l.l(n,t);a.position.copy(e.pos),e.circle=a,O.add(a),M.push(a)},V=function(e){e.circle&&(O.remove(e.circle),e.circle.geometry.dispose(),e.circle.material.dispose(),M=M.filter((function(n){return n!==e.circle})),e.circle=null)},q=new l.b(45,32),G=new l.m({color:16711680});function R(e){e.collapsed=!e.collapsed,e.collapsed?J(e):V(e);!function e(n,t){var a=!0,o=!1,r=void 0;try{for(var i,c=n.children[Symbol.iterator]();!(a=(i=c.next()).done);a=!0){var l=i.value;e(l,t),t(l)}}catch(s){o=!0,r=s}finally{try{a||null==c.return||c.return()}finally{if(o)throw r}}}(e,(function(e){e.enabled=!function e(n){return!!n.collapsed||!!n.parent&&e(n.parent)}(e.parent),e.enabled?I(e):B(e)}))}var X=[],Y=new l.j({color:255}),$=function(e,n){if(e.enabled&&n.enabled){var t=new l.h;t.vertices.push(e.pos),t.vertices.push(n.pos);var a=new l.i(t,Y);O.add(a),X.push(a)}},K=function(){for(;X.length;){var e=X.pop();O.remove(e),e.geometry.dispose()}};function Q(e){var n=new l.x;return n.x=e.clientX/window.innerWidth*2-1,n.y=-e.clientY/window.innerHeight*2+1,n}var U=new l.r;function Z(e,n){U.setFromCamera(e,x.camera);var t=U.intersectObjects(O.children).filter((function(e){return null!=e.object.node}))[0];t&&n(t.object.node,t.point)}var ee,ne=null;function te(e){null,Z(Q(e),(function(e,n){z.position.copy(n),z.lookAt(x.position),ne=e,e,x.controls.enabled=!1}))}function ae(e){ne&&(ne=null,x.controls.enabled=!0)}function oe(e){var n=Q(e);if(ee=n,ne){U.setFromCamera(n,x.camera);var t=U.intersectObject(z)[0];t&&(ne.pos.copy(t.point),z.position.copy(t.point),z.lookAt(x.position),ne.pinned=A.pinNodeEnabled)}}document.addEventListener("mousedown",te,!1),document.addEventListener("mousemove",oe,!1),document.addEventListener("mouseup",ae,!1),document.addEventListener("dblclick",(function(e){Z(Q(e),R)}),!1),document.addEventListener("touchstart",(function(e){return te(e.changedTouches[0])}),!1),document.addEventListener("touchmove",(function(e){return oe(e.changedTouches[0])}),!1),document.addEventListener("touchend",(function(e){return ae(e.changedTouches[0])}),!1);var re=null;function ie(){var e;if(requestAnimationFrame(ie),ee&&(re&&((e=re).hoverCircle&&(O.remove(e.hoverCircle),M=M.filter((function(n){return n!=e.hoverCircle})),e.hoverCircle=null),re=null),j&&Z(ee,(function(e){!function(e){var n=new l.l(q,G);n.position.x=e.pos.x,n.position.y=e.pos.y,n.position.z=e.pos.z,e.hoverCircle=n,O.add(n),M.push(n)}(e),re=e}))),j){!function(e,n){for(var t=n.ignore,a=0;a<e.length;a++){var o=e[a];if(o.enabled)for(var r=a+1;r<e.length;r++){var i=e[r];if(i.enabled){var c=(new l.y).copy(i.pos);c.sub(o.pos);var s=i.pos.distanceTo(o.pos);s=Math.max(1,s);var d=-v/(s*s);o.hasEdge(i)&&(d+=(s-f)*m),c.normalize(),c.multiplyScalar(d/2),o===t||o.pinned||o.pos.add(c),i===t||i.pinned||i.pos.sub(c)}}}}(j,{ignore:ne}),K(),p(j,D),function(e,n){for(var t=0;t<e.length;t++)for(var a=e[t],o=t+1;o<e.length;o++){var r=e[o];a.hasEdge(r)&&n(a,r)}}(j,$);var n=!0,t=!1,a=void 0;try{for(var o,r=M[Symbol.iterator]();!(n=(o=r.next()).done);n=!0){o.value.lookAt(x.position)}}catch(i){t=!0,a=i}finally{try{n||null==r.return||r.return()}finally{if(t)throw a}}}x.update()}var ce=function(e,n){localStorage.setItem("graph",JSON.stringify({root:j[0].data,branches:e,generations:n}))},le=function(){j=null,(O=new l.s).fog=new l.g(0,25e-8),(S=new l.z).setSize(window.innerWidth,window.innerHeight),document.getElementsByTagName("body")[0].setAttribute("style","margin: 0;"),S.domElement.setAttribute("style","position: absolute; top: 0; left: 0;"),document.body.appendChild(S.domElement),x=new W({renderer:S,scene:O}),M=[],z=new l.l(new l.p(500,500,8,8),new l.m({color:2395940,alphaTest:0,visible:!1})),O.add(z),O.add(_()),O.add(new l.a(4473924));var e=new l.d(16777215);e.position.set(-1,0,1).normalize(),O.add(e),ie()},se=t(12),de=t.n(se),ue=(t(26),function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=Object(y.a)(this,(e=Object(b.a)(n)).call.apply(e,[this].concat(o)))).reloadPage=function(){return window.location.reload()},t}return Object(w.a)(n,e),Object(d.a)(n,[{key:"componentDidMount",value:function(){de.a.AutoInit()}},{key:"render",value:function(){return o.a.createElement("div",{className:"Menu"},o.a.createElement("ul",{id:"slide-out",className:"sidenav"},o.a.createElement("li",null,o.a.createElement("a",{onClick:this.reloadPage},"Reload Page")),o.a.createElement("li",{className:"no-padding"})),o.a.createElement("a",{href:"#","data-target":"slide-out",className:"sidenav-trigger"},o.a.createElement("i",{className:"material-icons"},"menu")))}}]),n}(a.Component)),he=(t(27),function(e){var n=e.handleClick;return o.a.createElement("div",{className:"center-camera-button"},o.a.createElement("a",{onClick:function(){return n()},className:"btn-floating btn-large waves-effect waves-light black"},o.a.createElement("i",{className:"material-icons"},"center_focus_strong")))}),pe=t(7),fe=(t(28),function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(y.a)(this,Object(b.a)(n).call(this,e))).state={checked:A.pinNodeEnabled||!1},t.handleChange=t.handleChange.bind(Object(pe.a)(t)),t}return Object(w.a)(n,e),Object(d.a)(n,[{key:"handleChange",value:function(e){A.pinNodeEnabled=e.target.checked,this.setState({checked:e.target.checked})}},{key:"render",value:function(){return o.a.createElement("div",{className:"switch"},o.a.createElement("label",null,"Off",o.a.createElement("input",{type:"checkbox",checked:this.state.checked,onChange:this.handleChange}),o.a.createElement("span",{className:"lever"}),"On"))}}]),n}(a.Component)),me=(t(29),function(e){var n=e.value,t=e.handleValueChange,a=e.className,r=e.numberType;return o.a.createElement("div",{className:a},o.a.createElement("span",{className:"number-type"},r),o.a.createElement("a",{className:"btn-floating btn-small",onClick:function(){return t(n-1)}},o.a.createElement("i",{className:"material-icons"},"keyboard_arrow_down")),o.a.createElement("span",null,n),o.a.createElement("a",{className:"btn-floating btn-small",onClick:function(){return t(n+1)}},o.a.createElement("i",{className:"material-icons"},"keyboard_arrow_up")))}),ve=500;var ye=function(){var e=Object(a.useState)(1),n=Object(c.a)(e,2),t=n[0],r=n[1],i=Object(a.useState)(1),l=Object(c.a)(i,2),s=l[0],d=l[1];Object(a.useEffect)((function(){var e,n=JSON.parse(localStorage.getItem("graph"));if(n){var a=(e=k(0,0))[0].loadData(n.root);e=e.concat(a),r(n.branches),d(n.generations)}else e=k(s,t);F(e)}),[]);var u=function(e,n){H(e,n)};return o.a.createElement("div",{className:"App"},o.a.createElement(ue,null),o.a.createElement(he,{handleClick:function(){return ce(t,s)}}),o.a.createElement("div",{className:"bottom-fixed"},o.a.createElement(fe,null),o.a.createElement(me,{numberType:"Branches",className:"base-number",value:t,handleValueChange:function(e){Math.pow(e,s)>ve?r(t):(r(e),u(e,s))}}),o.a.createElement(me,{numberType:"Generations",className:"power-number",value:s,handleValueChange:function(e){Math.pow(t,e)>ve?d(s):(d(e),u(t,e))}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(ye,null),document.getElementById("root")),le(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[13,1,2]]]);
//# sourceMappingURL=main.78fbfb13.chunk.js.map