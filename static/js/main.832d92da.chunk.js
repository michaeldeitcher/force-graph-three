(this["webpackJsonpforce-graph-three"]=this["webpackJsonpforce-graph-three"]||[]).push([[0],[,,,,,,,,,,,,,function(e,n,t){e.exports=t(26)},,,,,function(e,n,t){},,function(e,n,t){},,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var a=t(1),i=t.n(a),o=t(10),r=t.n(o),d=(t(18),t(8)),l=(t(19),t(20),t(0)),c=t(2),s=t(3),h=0,p=function(){function e(n){Object(c.a)(this,e);var t=function(e){return Math.floor((.5-Math.random())*e)},a=t(300),i=t(300),o=t(300);0===h?(this.pos=new l.y(0,0,0),this.pinned=!0):(this.pos=new l.y(a,i,o),this.pinned=!1),this.enabled=!0,this.lastEnabled=(new Date).getTime(),this.id=h,h+=1,this.edges=[]}return Object(s.a)(e,[{key:"connect",value:function(e){this.edges.push(e),e.edges.push(this)}},{key:"hasEdge",value:function(e){return this.edges.includes(e)}}]),e}();function u(e,n){var t=!0,a=!1,i=void 0;try{for(var o,r=e[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){n(o.value)}}catch(d){a=!0,i=d}finally{try{t||null==r.return||r.return()}finally{if(a)throw i}}}var m=20,f=.3,v=8e4;var b=t(5),g=t(4),y=t(6),w=function(e){function n(e){var t;return Object(c.a)(this,n),t=Object(b.a)(this,Object(g.a)(n).call(this)),e?(t.depth=e.depth+1,t.parent=e,t.pos.add(e.pos)):t.depth=0,t.childIndex=0,t.collapsed=!1,t.parent=e,t.children=[],t}return Object(y.a)(n,e),Object(s.a)(n,[{key:"loadData",value:function(e){return C=[],this.data=e,C}},{key:"toggle",value:function(){this.enabled=!this.enabled}},{key:"createChildren",value:function(e,n){if(0===e)return this.destroyChildren();for(;n>this.children.length;)this.createChildNode(e,n);for(;n<this.children.length;)this.destroyChild(this.children.pop());this.children.forEach((function(t){t.isParent=!0,t.createChildren(e-1,n)}))}},{key:"destroy",value:function(){E.push(this)}},{key:"destroyChild",value:function(e){e.destroyChildren(),e.destroy();var n=this.edges.indexOf(e);this.edges.splice(n,1)}},{key:"destroyChildren",value:function(){var e=this;this.children.forEach((function(n){return e.destroyChild(n)})),this.children=[]}},{key:"createChildNode",value:function(){var e=new n(this);return this.connect(e),this.children.push(e),C.push(e),e}},{key:"data",get:function(){var e=[],n=!0,t=!1,a=void 0;try{for(var i,o=this.children[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var r=i.value;e.push(r.data)}}catch(d){t=!0,a=d}finally{try{n||null==o.return||o.return()}finally{if(t)throw a}}return{id:this.id,pos:[this.pos.x,this.pos.y,this.pos.z],pinned:this.pinned,enabled:this.enabled,children:e,depth:this.depth}},set:function(e){this.depth=e.depth,this.pos=new l.y(parseFloat(e.pos[0]),parseFloat(e.pos[1]),parseFloat(e.pos[2])),this.pinned=e.pinned,this.enabled=e.enabled;var n=!0,t=!1,a=void 0;try{for(var i,o=e.children[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var r=i.value;this.createChildNode().data=r}}catch(d){t=!0,a=d}finally{try{n||null==o.return||o.return()}finally{if(t)throw a}}}}]),n}(p),E=[],C=[];function k(e,n,t){E=[],C=[];var a=new w(0);t&&(a.pos=t,a.pinned=!0);var i=[a];return a.createChildren(e,n),i=i.concat(C)}var N,j,O,x,S,M,T,P=t(11),z=function(){function e(n){var t=this,a=n.renderer,i=n.scene;Object(c.a)(this,e),this.renderer=a,this.scene=i,this.camera=new l.o(75,window.innerWidth/window.innerHeight,1,1e4),this.camera.position.z=1e3,this.controls=new P.a(this.camera,this.renderer.domElement),this.controls.target=new l.y(0,0,0),this.controls.maxDistance=5e3;window.addEventListener("resize",(function(){t.camera.aspect=window.innerWidth/window.innerHeight,t.camera.updateProjectionMatrix(),t.renderer.setSize(window.innerWidth,window.innerHeight)}),!1)}return Object(s.a)(e,[{key:"update",value:function(){this.controls.update(),this.renderer.render(this.scene,this.camera)}},{key:"position",get:function(){return this.camera.position}}]),e}(),W=N=N||{},A=["varying vec3 vWorldPosition;","void main() {","  vec4 worldPosition = modelMatrix * vec4( position, 1.0 );","  vWorldPosition = worldPosition.xyz;","  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),F=["uniform vec3 topColor;","uniform vec3 bottomColor;","uniform float offset;","uniform float exponent;","varying vec3 vWorldPosition;","void main() {","  float h = normalize( vWorldPosition + offset ).y;","  gl_FragColor = vec4( mix( bottomColor, topColor, max( pow( h, exponent ), 0.0 ) ), 1.0 );","}"].join("\n"),L=function(){var e={topColor:{type:"c",value:new l.c(30719)},bottomColor:{type:"c",value:new l.c(16777215)},offset:{type:"f",value:5e3},exponent:{type:"f",value:1.5}},n=new l.u(5e3,32,32),t=new l.t({vertexShader:A,fragmentShader:F,uniforms:e,side:l.e,fog:!1});return new l.l(n,t)};var D=function(e){u(j=e,I)},_=function(e,n){var t,a,i,o=(a=n,i=e,E=[],C=[],(t=j)[0].createChildren(a,i),t=t.concat(C),E.forEach((function(e){return t.splice(t.indexOf(e),1)})),{graph:t,trashedNodes:E,addedNodes:C});for(j=o.graph;o.addedNodes.length;)I(o.addedNodes.pop());for(;o.trashedNodes.length;)H(o.trashedNodes.pop())},I=function(e){if(!e.mesh){var n=new l.u(30,16,12),t=new l.l(n,new l.n({color:new l.c(Math.random(),Math.random(),Math.random())}));t.position.copy(e.pos),e.mesh=t,t.node=e,O.add(t),e.collapsed&&J(e)}},H=function(e){V(e),e.mesh&&(O.remove(e.mesh),e.mesh.geometry.dispose(),e.mesh.material.dispose(),e.mesh=void 0)},B=function(e){e.enabled&&(e.mesh.position.copy(e.pos),e.circle&&e.circle.position.copy(e.mesh.position))},J=function(e){var n=new l.b(43,32),t=new l.m({color:16776960}),a=new l.l(n,t);a.position.copy(e.pos),e.circle=a,O.add(a),M.push(a)},V=function(e){e.circle&&(O.remove(e.circle),e.circle.geometry.dispose(),e.circle.material.dispose(),M=M.filter((function(n){return n!==e.circle})),e.circle=null)},G=new l.b(45,32),Y=new l.m({color:16711680});function q(e){e.collapsed=!e.collapsed,e.collapsed?J(e):V(e);!function e(n,t){var a=!0,i=!1,o=void 0;try{for(var r,d=n.children[Symbol.iterator]();!(a=(r=d.next()).done);a=!0){var l=r.value;e(l,t),t(l)}}catch(c){i=!0,o=c}finally{try{a||null==d.return||d.return()}finally{if(i)throw o}}}(e,(function(e){e.enabled=!function e(n){return!!n.collapsed||!!n.parent&&e(n.parent)}(e.parent),e.enabled?I(e):H(e)}))}var R=[],U=new l.j({color:255}),X=function(e,n){if(e.enabled&&n.enabled){var t=new l.h;t.vertices.push(e.pos),t.vertices.push(n.pos);var a=new l.i(t,U);O.add(a),R.push(a)}},$=function(){for(;R.length;){var e=R.pop();O.remove(e),e.geometry.dispose()}};function K(e){var n=new l.x;return n.x=e.clientX/window.innerWidth*2-1,n.y=-e.clientY/window.innerHeight*2+1,n}var Q=new l.r;function Z(e,n){Q.setFromCamera(e,x.camera);var t=Q.intersectObjects(O.children).filter((function(e){return null!=e.object.node}))[0];t&&n(t.object.node,t.point)}var ee,ne=null;function te(e){null,Z(K(e),(function(e,n){T.position.copy(n),T.lookAt(x.position),ne=e,e,x.controls.enabled=!1}))}function ae(e){ne&&(ne=null,x.controls.enabled=!0)}function ie(e){var n=K(e);if(ee=n,ne){Q.setFromCamera(n,x.camera);var t=Q.intersectObject(T)[0];t&&(ne.pos.copy(t.point),T.position.copy(t.point),T.lookAt(x.position),ne.pinned=W.pinNodeEnabled)}}document.addEventListener("mousedown",te,!1),document.addEventListener("mousemove",ie,!1),document.addEventListener("mouseup",ae,!1),document.addEventListener("dblclick",(function(e){Z(K(e),q)}),!1),document.addEventListener("touchstart",(function(e){return te(e.changedTouches[0])}),!1),document.addEventListener("touchmove",(function(e){return ie(e.changedTouches[0])}),!1),document.addEventListener("touchend",(function(e){return ae(e.changedTouches[0])}),!1);var oe=null;function re(){var e;if(requestAnimationFrame(re),ee&&(oe&&((e=oe).hoverCircle&&(O.remove(e.hoverCircle),M=M.filter((function(n){return n!=e.hoverCircle})),e.hoverCircle=null),oe=null),j&&Z(ee,(function(e){!function(e){var n=new l.l(G,Y);n.position.x=e.pos.x,n.position.y=e.pos.y,n.position.z=e.pos.z,e.hoverCircle=n,O.add(n),M.push(n)}(e),oe=e}))),j){!function(e,n){var t=n.ignore;if(!((new Date).getTime()-e.lastEnabled>2e3))for(var a=0;a<e.length;a++){var i=e[a];if(i.enabled){for(var o=a+1;o<e.length;o++){var r=e[o];if(r.enabled){var d=(new l.y).copy(r.pos);d.sub(i.pos);var c=r.pos.distanceTo(i.pos);c=Math.max(1,c);var s=-v/(c*c);i.hasEdge(r)&&(s+=(c-m)*f),d.normalize(),d.multiplyScalar(s/2),i===t||i.pinned||i.pos.add(d),r===t||r.pinned||r.pos.sub(d)}}i.pinned||i.pos.add(new l.y(0,4,2))}}}(j,{ignore:ne}),$(),u(j,B),function(e,n){for(var t=0;t<e.length;t++)for(var a=e[t],i=t+1;i<e.length;i++){var o=e[i];a.hasEdge(o)&&n(a,o)}}(j,X);var n=!0,t=!1,a=void 0;try{for(var i,o=M[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){i.value.lookAt(x.position)}}catch(r){t=!0,a=r}finally{try{n||null==o.return||o.return()}finally{if(t)throw a}}}x.update()}var de=function(e,n){localStorage.setItem("graph",JSON.stringify({root:j[0].data,branches:e,generations:n}))},le=function(){j=null,(O=new l.s).fog=new l.g(0,25e-8),(S=new l.z).setSize(window.innerWidth,window.innerHeight),document.getElementsByTagName("body")[0].setAttribute("style","margin: 0;"),S.domElement.setAttribute("style","position: absolute; top: 0; left: 0;"),document.body.appendChild(S.domElement),x=new z({renderer:S,scene:O}),M=[],T=new l.l(new l.p(500,500,8,8),new l.m({color:2395940,alphaTest:0,visible:!1})),O.add(T),O.add(L()),O.add(new l.a(4473924));var e=new l.d(16777215);e.position.set(-1,0,1).normalize(),O.add(e),re()},ce=t(12),se=t.n(ce),he=(t(22),function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=Object(b.a)(this,(e=Object(g.a)(n)).call.apply(e,[this].concat(i)))).reloadPage=function(){return window.location.reload()},t}return Object(y.a)(n,e),Object(s.a)(n,[{key:"componentDidMount",value:function(){se.a.AutoInit()}},{key:"render",value:function(){return i.a.createElement("div",{className:"Menu"},i.a.createElement("ul",{id:"slide-out",className:"sidenav"},i.a.createElement("li",null,i.a.createElement("a",{onClick:this.reloadPage},"Reload Page")),i.a.createElement("li",{className:"no-padding"})),i.a.createElement("a",{href:"#","data-target":"slide-out",className:"sidenav-trigger"},i.a.createElement("i",{className:"material-icons"},"menu")))}}]),n}(a.Component)),pe=(t(23),function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"center-camera-button"},i.a.createElement("a",{"data-target":"modal1",className:"btn modal-trigger btn-floating btn-large waves-effect waves-light black"},i.a.createElement("i",{className:"material-icons"},"help_outline"))),i.a.createElement("div",{id:"modal1",class:"modal"},i.a.createElement("div",{class:"modal-content"},i.a.createElement("h4",null,"Force Graph Three Experiment"),i.a.createElement("p",null,"This is a force directed tree graph made with three.js."),i.a.createElement("p",null,"Opposing forces push nodes away from each other while spring forces hold the structure of the tree in place."),i.a.createElement("p",null,"You can adjust the number of generations the tree has and the number of branches each node creates in a generation."),i.a.createElement("p",null,"Try dragging the nodes around. Use the pin switch to choose whether or not to fix the node to a location or release it to the graph forces."),i.a.createElement("p",null,"I hope you enjoy this experiment. Thanks, Michael Deitcher"))))}),ue=t(7),me=(t(24),function(e){function n(e){var t;return Object(c.a)(this,n),t=Object(b.a)(this,Object(g.a)(n).call(this,e)),W.pinNodeEnabled=t.state={checked:W.pinNodeEnabled||!0},t.handleChange=t.handleChange.bind(Object(ue.a)(t)),t}return Object(y.a)(n,e),Object(s.a)(n,[{key:"handleChange",value:function(e){W.pinNodeEnabled=e.target.checked,this.setState({checked:e.target.checked})}},{key:"render",value:function(){return i.a.createElement("div",{className:"switch"},i.a.createElement("div",{className:"label-title"},"Pin"),i.a.createElement("label",null,"Off",i.a.createElement("input",{type:"checkbox",checked:this.state.checked,onChange:this.handleChange}),i.a.createElement("span",{className:"lever"}),"On"))}}]),n}(a.Component)),fe=(t(25),function(e){var n=e.value,t=e.handleValueChange,a=e.className,o=e.numberType;return i.a.createElement("div",{className:a},i.a.createElement("div",{className:"number-type"},o),i.a.createElement("a",{className:"btn-floating btn-small",onClick:function(){return t(n-1)}},i.a.createElement("i",{className:"material-icons"},"keyboard_arrow_down")),i.a.createElement("span",null,n),i.a.createElement("a",{className:"btn-floating btn-small",onClick:function(){return t(n+1)}},i.a.createElement("i",{className:"material-icons"},"keyboard_arrow_up")))}),ve={root:{id:0,pos:[-3.3339496920774936,-465.6416403268274,142.60880144967007],pinned:{checked:!0},enabled:!0,children:[{id:57,pos:[-110.15849291574895,-356.5074676503415,201.6156517907385],pinned:!1,enabled:!0,children:[{id:58,pos:[-165.29334342265594,-278.42974472685006,65.01578093534434],pinned:!1,enabled:!0,children:[{id:59,pos:[-134.0259964200935,-316.3878481072423,-30.318820633582902],pinned:!1,enabled:!0,children:[{id:60,pos:[-82.38958115657621,-283.85606132378274,-87.1819573287545],pinned:!1,enabled:!0,children:[],depth:4},{id:64,pos:[-167.0321637018331,-374.61258453468923,-77.03731103412714],pinned:!1,enabled:!0,children:[],depth:4}],depth:3},{id:63,pos:[-237.92900524289877,-182.66967130111854,22.36138192614023],pinned:!1,enabled:!0,children:[{id:65,pos:[-318.8360860846732,-171.07846181319215,14.634122986224305],pinned:!1,enabled:!0,children:[],depth:4},{id:66,pos:[-231.34771469607062,-107.21657324433167,-18.013685672166957],pinned:!1,enabled:!0,children:[],depth:4}],depth:3}],depth:2},{id:62,pos:[-135.1260464535008,-348.0478982352455,358.35567142862385],pinned:!1,enabled:!0,children:[{id:67,pos:[-97.38917360197772,-287.5898621038949,471.8981979160769],pinned:!1,enabled:!0,children:[{id:69,pos:[-65.88748231110242,-318.761973459337,543.3696745606289],pinned:!1,enabled:!0,children:[],depth:4},{id:70,pos:[-97.96274656827983,-215.6214051279871,519.8496451744126],pinned:!1,enabled:!0,children:[],depth:4}],depth:3},{id:68,pos:[-200.7095173735019,-416.85969332668674,406.7802745681485],pinned:!1,enabled:!0,children:[{id:71,pos:[-185.02228607927754,-496.5932159191239,413.45685631599684],pinned:!1,enabled:!0,children:[],depth:4},{id:72,pos:[-272.28985910084174,-416.41198519774963,447.8762984535906],pinned:!1,enabled:!0,children:[],depth:4}],depth:3}],depth:2}],depth:1},{id:61,pos:[105.70581138388603,-224.99876714433,222.7770745926898],pinned:!1,enabled:!0,children:[{id:73,pos:[244.14582265052232,-276.77902922178714,251.7199893278192],pinned:!1,enabled:!0,children:[{id:75,pos:[285.684948041876,-359.27861548682654,196.0305635281887],pinned:!1,enabled:!0,children:[{id:77,pos:[295.51026374037605,-435.64075504937364,225.04201621583536],pinned:!1,enabled:!0,children:[],depth:4},{id:78,pos:[329.92758581458975,-367.7124449046532,127.17818828246203],pinned:!1,enabled:!0,children:[],depth:4}],depth:3},{id:76,pos:[337.04147096410816,-244.34125607231732,323.36625163680395],pinned:!1,enabled:!0,children:[{id:79,pos:[402.13027522683905,-193.00377378769562,314.01859197806425],pinned:!1,enabled:!0,children:[],depth:4},{id:80,pos:[368.24865653733417,-265.17331862007256,398.796916361632],pinned:!1,enabled:!0,children:[],depth:4}],depth:3}],depth:2},{id:74,pos:[80.6735129709928,-19.403905105040344,257.3947925445619],pinned:!1,enabled:!0,children:[{id:81,pos:[22.82491193219214,75.59485699215941,197.01450179523516],pinned:!1,enabled:!0,children:[{id:83,pos:[-49.93042453645373,117.3236368911668,210.94840716252332],pinned:!1,enabled:!0,children:[],depth:4},{id:84,pos:[38.14677864554075,143.5920416721583,144.8230387406737],pinned:!1,enabled:!0,children:[],depth:4}],depth:3},{id:82,pos:[99.63172879706917,88.10992387564028,340.1992202581722],pinned:!1,enabled:!0,children:[{id:85,pos:[156.394936416216,149.58903579700024,345.94353771652806],pinned:!1,enabled:!0,children:[],depth:4},{id:86,pos:[62.83051989735797,134.6748812972971,404.5001462964334],pinned:!1,enabled:!0,children:[],depth:4}],depth:3}],depth:2}],depth:1}],depth:0},branches:2,generations:4},be=500;var ge=function(){var e=Object(a.useState)(1),n=Object(d.a)(e,2),t=n[0],o=n[1],r=Object(a.useState)(1),l=Object(d.a)(r,2),c=l[0],s=l[1];Object(a.useEffect)((function(){var e,n=JSON.parse(localStorage.getItem("graph"));if(n||(n=ve),n){var a=(e=k(0,0))[0].loadData(n.root);e=e.concat(a),o(n.branches),s(n.generations)}else e=k(c,t);D(e)}),[]);var h=function(e,n){_(e,n)};return i.a.createElement("div",{className:"App"},i.a.createElement(he,null),i.a.createElement(pe,{handleClick:function(){return de(t,c)}}),i.a.createElement("div",{className:"bottom-fixed"},i.a.createElement(me,null),i.a.createElement(fe,{numberType:"Branches",className:"base-number",value:t,handleValueChange:function(e){Math.pow(e,c)>be?o(t):(o(e),h(e,c))}}),i.a.createElement(fe,{numberType:"Generations",className:"power-number",value:c,handleValueChange:function(e){Math.pow(t,e)>be?s(c):(s(e),h(t,e))}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(ge,null),document.getElementById("root")),le(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[13,1,2]]]);
//# sourceMappingURL=main.832d92da.chunk.js.map